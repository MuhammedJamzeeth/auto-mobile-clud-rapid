<div>
  <div style="display: flex; gap: 8px; align-items: center">
    <input [(ngModel)]="search" placeholder="Search model (use * for wildcard)" />
    <button (click)="searchVehicles()">Search</button>
    <button (click)="clear()">Clear</button>
    <label style="margin-left: 12px">Page: {{ page }} / {{ totalPages }}</label>
  </div>

  <table class="vehicle-list" style="width: 100%; margin-top: 12px; border-collapse: collapse">
    <thead>
      <tr>
        <th>ID</th>
        <th>First</th>
        <th>Last</th>
        <th>Make</th>
        <th>Model</th>
        <th>VIN</th>
        <th>Manufactured</th>
        <th>Age</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let v of vehicles">
        <td>{{ v.id }}</td>

        <td *ngIf="!isEditing(v)">{{ v.firstName }}</td>
        <td *ngIf="isEditing(v)">
          <input [(ngModel)]="editModel.firstName" />
        </td>

        <td *ngIf="!isEditing(v)">{{ v.lastName }}</td>
        <td *ngIf="isEditing(v)">
          <input [(ngModel)]="editModel.lastName" />
        </td>

        <td *ngIf="!isEditing(v)">{{ v.carMake }}</td>
        <td *ngIf="isEditing(v)">
          <input [(ngModel)]="editModel.carMake" />
        </td>

        <td *ngIf="!isEditing(v)">{{ v.carModel }}</td>
        <td *ngIf="isEditing(v)">
          <input [(ngModel)]="editModel.carModel" />
        </td>

        <td>{{ v.vin }}</td>

        <td *ngIf="!isEditing(v)">
          {{ v.manufacturedDate | date : 'yyyy-MM-dd' }}
        </td>
        <td *ngIf="isEditing(v)">
          <input type="date" [(ngModel)]="editModel.manufacturedDate" />
        </td>

        <td>{{ v.ageOfVehicle }}</td>

        <td>
          <button *ngIf="!isEditing(v)" (click)="startEdit(v)">Edit</button>
          <button *ngIf="isEditing(v)" (click)="saveEdit(v)">Save</button>
          <button *ngIf="isEditing(v)" (click)="cancelEdit()">Cancel</button>
          <button (click)="confirmDelete(v)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div style="margin-top: 12px; display: flex; gap: 8px">
    <button (click)="prevPage()">Prev</button>
    <button (click)="nextPage()">Next</button>
  </div>
</div>
